<html>
<head>
<title>Chat Example</title>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript">
    $(function() {

    var conn;
    var msg = $("#msg");
    var log = $("#log");

    function appendLog(msg) {
        var d = log[0]
        var doScroll = d.scrollTop == d.scrollHeight - d.clientHeight;
        msg.appendTo(log)
        if (doScroll) {
            d.scrollTop = d.scrollHeight - d.clientHeight;
        }
    }

    $("#form").submit(function() {
        if (!conn) {
            return false;
        }
        if (!msg.val()) {
            return false;
        }
        conn.send(msg.val());
        msg.val("");
        return false
    });

    if (window["WebSocket"]) {

        $('#signup').click(function() {

          var username = $('#username').val();
          var password = $('#password').val();
          var firstname = $('#firstname').val();
          var lastname = $('#lastname').val();      

          $('#username').val(''); 
          $('#password').val(''); 
          $('#firstname').val(''); 
          $('#lastname').val(''); 

            $.ajax({
              type: 'POST',
              url: 'http://127.0.0.1:8080/createUser',
              data: JSON.stringify({"username" : username, "password" : password, "firstname" : firstname, "lastname" : lastname}),
              // contentType: "application/json",
              // crossDomain: true,
                success: function(data, textStatus, jqXHR) {
                    // console.log('success');
                    //data - response from server
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    console.log(errorThrown);
                }
            });
        });
    } else {
        appendLog($("<div><b>Your browser does not support WebSockets.</b></div>"))
    }

    });
</script>
<style type="text/css">
html {
    overflow: hidden;
}

body {
    overflow: hidden;
    padding: 0;
    margin: 0;
    width: 100%;
    height: 100%;
    background: gray;
}

#form {
    padding: 0 0.5em 0 0.5em;
    margin: 0;
    position: absolute;
    bottom: 1em;
    left: 0px;
    width: 100%;
    overflow: hidden;
}

</style>
</head>
<body>
    
<a href="home.html">Home</a><br>
Username: <input type="text" id="username" name="Username" placeholder="Pick a username"><br>
Password: <input type="password" id="password" name="Password" placeholder="password"><br>
Firstname: <input type="text" id="firstname" name="Firstname" placeholder="First Name"><br>
Lastname: <input type="text" id="lastname" name="Lastname" placeholder="Last Name"><br>
<input id="signup" type="submit" value="Submit">

</body>
</html>
